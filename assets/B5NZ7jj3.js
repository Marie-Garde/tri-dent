import{_ as S}from"./DvTjKVtj.js";import{_ as N}from"./pVouwi7u.js";import{e as C,j as D,c as t,m as P,f as _,a as u,b as v,t as i,o as e,_ as w,F as p,k,l as T,i as h,w as R,n as I,G as F,d as L,H as V,I as j,J as A,K as M}from"./DJfBaE14.js";import{a as z,u as q}from"./B-cjh3Ia.js";const E={class:"page-banner__content"},H=C({__name:"Banner",props:{title:{},image:{},light:{type:Boolean,default:!1}},setup(y){const d=y,g=D(()=>({backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${d.image})`}));return(x,f)=>(e(),t("div",{class:"page-banner",style:P(_(g))},[u("div",E,[u("h1",null,i(y.title),1),v(N,{light:y.light},null,8,["light"])])],4))}}),O=Object.assign(w(H,[["__scopeId","data-v-f3e6a7d1"]]),{__name:"Banner"}),U={class:"portable-text"},G={key:0,class:"bullet-list"},J={key:0},K={key:1},Q={key:2},W=["href"],X={key:4},Y={key:1,class:"number-list"},Z={key:0},ee={key:1},te={key:2},se=["href"],ne={key:4},re={key:0},oe={key:1},ae={key:2},ie=["href"],le={key:4},ce=["src","alt"],ue={key:0},_e={key:4,class:"video-block"},me={controls:""},pe=["src"],de={key:0},ge=C({__name:"PortableTextRenderer",props:{blocks:{}},setup(y){const d=y,g=D(()=>{const o=[];let n=null;for(let s=0;s<d.blocks.length;s++){const l=d.blocks[s];if(l.listItem==="bullet"||l.listItem==="number"){const r=l.listItem==="bullet"?"bullet-list":"number-list";n&&n.type===r?n.items.push(l):(n&&o.push(n),n={type:r,items:[l]})}else n&&(o.push(n),n=null),o.push(l)}return n&&o.push(n),o});function x(o){return{h2:"h2",h3:"h3",h4:"h4",blockquote:"blockquote",normal:"p"}[o||"normal"]||"p"}function f(o=[],n=[]){return!o||!n?!1:o.some(s=>n.some(l=>l._key===s&&l._type==="link"))}function c(o=[],n=[]){if(!o||!n)return"#";const s=o.find(r=>n.some(m=>m._key===r&&m._type==="link"));return s&&n.find(r=>r._key===s)?.href||"#"}function $(o){const n=V(),[s,l,r]=o.split("-");return`https://cdn.sanity.io/files/${n.public.sanityProjectId}/${n.public.sanityDataset}/${l}.${r}`}function b(o){const n=g.value;n[o];const s=n[o+1],l=n[o-1],r=m=>m?._type==="imageBlock";return r(s)?"image-paired image-paired--first":r(l)?"image-paired image-paired--second":"image-single"}return(o,n)=>(e(),t("div",U,[(e(!0),t(p,null,k(_(g),(s,l)=>(e(),t(p,{key:l},[s.type==="bullet-list"?(e(),t("ul",G,[(e(!0),t(p,null,k(s.items,(r,m)=>(e(),t("li",{key:m},[(e(!0),t(p,null,k(r.children,(a,B)=>(e(),t("span",{key:B},[a.marks?.includes("strong")?(e(),t("strong",J,i(a.text),1)):a.marks?.includes("em")?(e(),t("em",K,i(a.text),1)):a.marks?.includes("underline")?(e(),t("u",Q,i(a.text),1)):f(a.marks,r.markDefs)?(e(),t("a",{key:3,href:c(a.marks,r.markDefs),target:"_blank",rel:"noopener noreferrer"},i(a.text),9,W)):(e(),t("span",X,i(a.text),1))]))),128))]))),128))])):s.type==="number-list"?(e(),t("ol",Y,[(e(!0),t(p,null,k(s.items,(r,m)=>(e(),t("li",{key:m},[(e(!0),t(p,null,k(r.children,(a,B)=>(e(),t("span",{key:B},[a.marks?.includes("strong")?(e(),t("strong",Z,i(a.text),1)):a.marks?.includes("em")?(e(),t("em",ee,i(a.text),1)):a.marks?.includes("underline")?(e(),t("u",te,i(a.text),1)):f(a.marks,r.markDefs)?(e(),t("a",{key:3,href:c(a.marks,r.markDefs),target:"_blank",rel:"noopener noreferrer"},i(a.text),9,se)):(e(),t("span",ne,i(a.text),1))]))),128))]))),128))])):s._type==="block"?(e(),T(F(x(s.style)),{key:2,class:I(`block-${s.style||"normal"}`)},{default:R(()=>[(e(!0),t(p,null,k(s.children,(r,m)=>(e(),t(p,{key:m},[r.marks?.includes("strong")?(e(),t("strong",re,i(r.text),1)):r.marks?.includes("em")?(e(),t("em",oe,i(r.text),1)):r.marks?.includes("underline")?(e(),t("u",ae,i(r.text),1)):f(r.marks,s.markDefs)?(e(),t("a",{key:3,href:c(r.marks,s.markDefs),target:"_blank",rel:"noopener noreferrer"},i(r.text),9,ie)):(e(),t("span",le,i(r.text),1))],64))),128))]),_:2},1032,["class"])):s._type==="imageBlock"?(e(),t("figure",{key:3,class:I(["image-block",b(l)])},[u("img",{src:_(z)(s).width(1200).url(),alt:s.alt,loading:"lazy"},null,8,ce),s.caption?(e(),t("figcaption",ue,i(s.caption),1)):h("",!0)],2)):s._type==="videoBlock"?(e(),t("figure",_e,[u("video",me,[u("source",{src:$(s.asset._ref)},null,8,pe),n[0]||(n[0]=L(" Votre navigateur ne supporte pas la vidéo. ",-1))]),s.caption?(e(),t("figcaption",de,i(s.caption),1)):h("",!0)])):s._type==="callout"?(e(),t("div",{key:5,class:I(["callout",`callout--${s.type||"info"}`])},[u("p",null,i(s.text),1)],2)):h("",!0)],64))),128))]))}}),fe=Object.assign(w(ge,[["__scopeId","data-v-f172c930"]]),{__name:"PortableTextRenderer"}),ke=""+new URL("banner-article.CEvPxNue.png",import.meta.url).href,ye={class:"slug"},he={class:"slug__wrapper"},xe={class:"slug__container"},be={key:0,class:"loading"},ve={key:1,class:"article"},$e={class:"article__header"},Be={class:"article__date"},Ie={key:0,class:"article__tags"},Ce={key:0,class:"article__content"},De={class:"article__footer"},we=C({__name:"[slug]",async setup(y){let d,g;const x=j(),f=q();[d,g]=A(()=>f.fetchArticles()),await d,g();const c=D(()=>f.articleBySlug(x.params.slug));c.value||M("/informations-medicales");function $(b){return new Date(b).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}return(b,o)=>{const n=S;return e(),t("div",ye,[v(O,{title:_(c)?.titre??"Informations médicales",image:_(ke),light:""},null,8,["title","image"]),u("div",he,[u("div",xe,[_(c)?(e(),t("article",ve,[u("header",$e,[u("p",Be,i($(_(c).publishedAt)),1),_(c).tags?.length?(e(),t("div",Ie,[(e(!0),t(p,null,k(_(c).tags,s=>(e(),t("span",{key:s._id,class:"tag-badge"},i(s.titre),1))),128))])):h("",!0)]),_(c).contenu?(e(),t("div",Ce,[v(fe,{blocks:_(c).contenu},null,8,["blocks"])])):h("",!0),u("div",De,[v(n,{to:"/informations-medicales",class:"back-button"},{default:R(()=>[...o[1]||(o[1]=[L(" ← Retour aux articles ",-1)])]),_:1})])])):(e(),t("div",be,[...o[0]||(o[0]=[u("p",null,"Chargement de l'article...",-1)])]))])])])}}}),Pe=w(we,[["__scopeId","data-v-5c1c2d32"]]);export{Pe as default};
