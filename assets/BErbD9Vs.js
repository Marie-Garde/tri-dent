import{_ as D}from"./B-PFB_FM.js";import{_ as R}from"./DPEHLBl3.js";import{e as b,h as C,c as s,k as S,f as _,a as i,b as h,t as c,o as t,_ as B,F as g,i as $,j as L,g as f,w as I,n as x,B as N,d as w,C as P,D as F,E as T,G as V}from"./CpOOP2eM.js";import{a as j,u as A}from"./DTSEQci6.js";const M={class:"page-banner__content"},z=b({__name:"Banner",props:{title:{},image:{},light:{type:Boolean,default:!1}},setup(d){const u=d,m=C(()=>({backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${u.image})`}));return(y,p)=>(t(),s("div",{class:"page-banner",style:S(_(m))},[i("div",M,[i("h1",null,c(d.title),1),h(R,{light:d.light},null,8,["light"])])],4))}}),E=Object.assign(B(z,[["__scopeId","data-v-f3e6a7d1"]]),{__name:"Banner"}),q={class:"portable-text"},O={key:0},U={key:1},G={key:2},H=["href"],J={key:4},K=["src","alt"],Q={key:0},W={key:2,class:"video-block"},X={controls:""},Y=["src"],Z={key:0},ee=b({__name:"PortableTextRenderer",props:{blocks:{}},setup(d){const u=d;function m(o){return{h2:"h2",h3:"h3",h4:"h4",blockquote:"blockquote",normal:"p"}[o||"normal"]||"p"}function y(o=[],n=[]){return!o||!n?!1:o.some(e=>n.some(r=>r._key===e&&r._type==="link"))}function p(o=[],n=[]){if(!o||!n)return"#";const e=o.find(a=>n.some(k=>k._key===a&&k._type==="link"));return e&&n.find(a=>a._key===e)?.href||"#"}function l(o){const n=P(),[e,r,a]=o.split("-");return`https://cdn.sanity.io/files/${n.public.sanityProjectId}/${n.public.sanityDataset}/${r}.${a}`}function v(o){u.blocks[o];const n=u.blocks[o+1],e=u.blocks[o-1],r=a=>a?._type==="imageBlock";return r(n)?"image-paired image-paired--first":r(e)?"image-paired image-paired--second":"image-single"}return(o,n)=>(t(),s("div",q,[(t(!0),s(g,null,$(d.blocks,(e,r)=>(t(),s(g,{key:r},[e._type==="block"?(t(),L(N(m(e.style)),{key:0,class:x(`block-${e.style||"normal"}`)},{default:I(()=>[(t(!0),s(g,null,$(e.children,(a,k)=>(t(),s(g,{key:k},[a.marks?.includes("strong")?(t(),s("strong",O,c(a.text),1)):a.marks?.includes("em")?(t(),s("em",U,c(a.text),1)):a.marks?.includes("underline")?(t(),s("u",G,c(a.text),1)):y(a.marks,e.markDefs)?(t(),s("a",{key:3,href:p(a.marks,e.markDefs),target:"_blank",rel:"noopener noreferrer"},c(a.text),9,H)):(t(),s("span",J,c(a.text),1))],64))),128))]),_:2},1032,["class"])):e._type==="imageBlock"?(t(),s("figure",{key:1,class:x(["image-block",v(r)])},[i("img",{src:_(j)(e).width(1200).url(),alt:e.alt,loading:"lazy"},null,8,K),e.caption?(t(),s("figcaption",Q,c(e.caption),1)):f("",!0)],2)):e._type==="videoBlock"?(t(),s("figure",W,[i("video",X,[i("source",{src:l(e.asset._ref)},null,8,Y),n[0]||(n[0]=w(" Votre navigateur ne supporte pas la vidéo. ",-1))]),e.caption?(t(),s("figcaption",Z,c(e.caption),1)):f("",!0)])):e._type==="callout"?(t(),s("div",{key:3,class:x(["callout",`callout--${e.type||"info"}`])},[i("p",null,c(e.text),1)],2)):f("",!0)],64))),128))]))}}),te=Object.assign(B(ee,[["__scopeId","data-v-ecff517d"]]),{__name:"PortableTextRenderer"}),se=""+new URL("banner-article.CEvPxNue.png",import.meta.url).href,ne={class:"slug"},ae={class:"slug__wrapper"},oe={class:"slug__container"},re={key:0,class:"loading"},ie={key:1,class:"article"},ce={class:"article__header"},le={class:"article__date"},_e={key:0,class:"article__tags"},ue={key:0,class:"article__content"},de={class:"article__footer"},me=b({__name:"[slug]",async setup(d){let u,m;const y=F(),p=A();[u,m]=T(()=>p.fetchArticles()),await u,m();const l=C(()=>p.articleBySlug(y.params.slug));l.value||V("/informations-medicales");function v(o){return new Date(o).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}return(o,n)=>{const e=D;return t(),s("div",ne,[h(E,{title:_(l)?.titre??"Informations médicales",image:_(se),light:""},null,8,["title","image"]),i("div",ae,[i("div",oe,[_(l)?(t(),s("article",ie,[i("header",ce,[i("p",le,c(v(_(l).publishedAt)),1),_(l).tags?.length?(t(),s("div",_e,[(t(!0),s(g,null,$(_(l).tags,r=>(t(),s("span",{key:r._id,class:"tag-badge"},c(r.titre),1))),128))])):f("",!0)]),_(l).contenu?(t(),s("div",ue,[h(te,{blocks:_(l).contenu},null,8,["blocks"])])):f("",!0),i("div",de,[h(e,{to:"/informations-medicales",class:"back-button"},{default:I(()=>[...n[1]||(n[1]=[w(" ← Retour aux articles ",-1)])]),_:1})])])):(t(),s("div",re,[...n[0]||(n[0]=[i("p",null,"Chargement de l'article...",-1)])]))])])])}}}),ke=B(me,[["__scopeId","data-v-5c1c2d32"]]);export{ke as default};
